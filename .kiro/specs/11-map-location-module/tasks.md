# 地图定位模块 - 任务列表

## 后端任务

### Phase 1: 距离计算
- [ ] 实现Haversine公式
- [ ] 距离格式化工具
- [ ] 设备列表添加距离字段

### Phase 2: 地理编码
- [ ] 创建GeocodingService
- [ ] 高德地图API集成
- [ ] GET /map/geocode - 地址转坐标
- [ ] GET /map/reverse-geocode - 坐标转地址
- [ ] 地理编码缓存

### Phase 3: 附近设备
- [ ] GET /equipment/nearby - 附近设备
- [ ] 空间索引优化（可选）

## 前端任务

### Phase 1: 地图组件
- [ ] 高德地图SDK集成
- [ ] 地图展示组件
- [ ] 标记点组件
- [ ] 信息窗口组件

### Phase 2: 位置选择
- [ ] 位置选择器组件
- [ ] 地图拖拽选点
- [ ] 地址搜索
- [ ] 自动定位

### Phase 3: 地图模式
- [ ] 设备列表地图模式
- [ ] 地图/列表切换
- [ ] 标记聚合（可选）

## 优先级

P0（必须）：
- 距离计算
- 距离显示

P1（重要）：
- 地图展示
- 位置选择
- 附近设备

P2（可选）：
- 地理编码
- 标记聚合
- 空间索引
