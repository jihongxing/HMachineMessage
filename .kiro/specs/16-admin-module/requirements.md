# 后台管理模块 - 需求文档

## 模块概述

实现后台管理系统，包括设备审核、用户管理、数据统计、举报处理等功能。

## 功能需求

### 1. 后台布局

#### 1.1 侧边栏导航
- 数据概览
- 设备审核
- 用户管理
- 举报管理
- 数据统计

#### 1.2 顶部栏
- 管理员信息
- 退出登录

#### 1.3 面包屑导航
- 当前位置显示

### 2. 数据概览页面 (/admin)

#### 2.1 统计卡片
- 用户总数
- 新增用户（今日/本周/本月）
- 活跃用户
- 设备总数
- 新增设备
- 待审核设备
- 订单总数
- 订单金额
- 已支付订单

#### 2.2 图表展示
- 用户增长趋势（折线图）
- 设备发布趋势（折线图）
- 订单金额趋势（柱状图）
- 设备分类分布（饼图）

#### 2.3 快捷入口
- 待审核设备
- 待处理举报
- 封禁用户

### 3. 设备审核页面 (/admin/audit)

#### 3.1 待审核列表
- 设备ID
- 设备型号
- 设备图片
- 发布用户
- 风险评分
- 提交时间

#### 3.2 风险评分筛选
- 全部
- 高风险（60-100）
- 中风险（20-60）
- 低风险（0-20）

#### 3.3 审核操作
- 查看详情
- 通过审核
- 拒绝审核（需填写原因）
- 批量审核

#### 3.4 审核详情Modal
- 设备完整信息
- 用户信息
- 历史违规记录
- 风险评分详情
- 审核操作

### 4. 用户管理页面 (/admin/users)

#### 4.1 用户列表
- 用户ID
- 手机号
- 昵称
- 用户等级
- 认证状态
- 余额
- 发布数
- 违规数
- 状态
- 注册时间
- 最后登录

#### 4.2 搜索筛选
- 关键词搜索（手机号/昵称）
- 等级筛选
- 状态筛选（正常/封禁）

#### 4.3 操作功能
- 查看详情
- 封禁用户（需填写原因和时长）
- 解封用户
- 调整等级

#### 4.4 用户详情Modal
- 基本信息
- 认证信息
- 账户信息
- 发布记录
- 订单记录
- 违规记录

### 5. 举报管理页面 (/admin/reports)

#### 5.1 举报列表
- 举报ID
- 举报类型（设备/评价）
- 被举报对象
- 举报人
- 举报原因
- 举报证据
- 状态
- 提交时间

#### 5.2 状态筛选
- 全部
- 待处理
- 已处理
- 已驳回

#### 5.3 操作功能
- 查看详情
- 处理举报（成立/不成立）

#### 5.4 举报详情Modal
- 举报信息
- 被举报对象详情
- 举报人信息
- 处理操作

### 6. 数据统计页面 (/admin/stats)

#### 6.1 时间筛选
- 今日
- 本周
- 本月
- 自定义时间

#### 6.2 用户统计
- 总用户数
- 新增用户
- 活跃用户
- 用户等级分布

#### 6.3 设备统计
- 总设备数
- 新增设备
- 待审核设备
- 设备分类分布
- 设备地区分布

#### 6.4 交易统计
- 订单总数
- 订单金额
- 已支付订单
- 充值金额
- 退款金额

#### 6.5 审核统计
- 审核总数
- 自动审核数
- 人工审核数
- 平均审核时间
- 通过率

#### 6.6 数据导出
- 导出Excel
- 导出CSV

## 非功能需求

### 性能要求
- 列表加载时间 < 2s
- 图表渲染时间 < 1s
- 审核操作响应 < 1s

### 用户体验
- 操作流畅
- 反馈及时
- 布局清晰
- 响应式设计

### 数据安全
- 管理员权限验证
- 操作日志记录
- 敏感信息脱敏

## 业务规则

### 审核规则
- 风险评分 < 20：建议通过
- 风险评分 20-60：需人工审核
- 风险评分 > 60：建议拒绝
- 审核后发送通知

### 封禁规则
- 封禁后下架所有设备
- 封禁可设置时长
- 封禁后发送通知

### 举报处理规则
- 举报成立：下架/删除被举报对象
- 举报不成立：驳回举报
- 处理后发送通知

## 技术约束

- 使用Next.js 14 App Router
- 使用TypeScript
- 依赖前端基础设施模块
- 使用图表库（recharts）

## 依赖关系

### 前置依赖
- 前端核心基础设施模块（12）
- 后端管理API（已完成）

### 后续依赖
- 无
